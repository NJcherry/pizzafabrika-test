# Итоговый scope автотестирования

---

## 1. UI E2E — Critical user flows

> Покрывают основной путь оформления заказа

### E2E-1. Инициализация сессии и выбор города

**Проверки:**

- модалка выбора города при первом входе
- выбранный город сохраняется в сессии
- каталог и рестораны соответствуют городу
- корзина НЕ очищается при смене города

---

### E2E-2. Переключение режима заказа (доставка / самовывоз)

**Проверки:**

- переключение режимов доступно
- список ресторанов обновляется
- корзина очищается или корректно адаптируется
- режим сохраняется при перезагрузке страницы

---

### E2E-3. Добавление товара в корзину (размеры + опции) Готово

**Проверки:**

- открытие карточки товара
- переключение размеров → цена меняется
- добавление опций → цена меняется
- товар с выбранными параметрами добавляется в корзину

---

### E2E-4. Конструктор пиццы

**Проверки:**

- добавление/удаление ингредиентов
- визуальная индикация выбранных ингредиентов
- цена пересчитывается
- сконфигурированный товар добавляется в корзину

---

### E2E-5. Работа с корзиной

**Проверки:**

- изменение количества товара
- удаление позиции
- очистка корзины
- итоговая сумма меняется
- пустое состояние корзины отображается корректно

---

### E2E-6. Минимальная сумма заказа

**Проверки:**

- при сумме ниже минимума оформление недоступно
- отображается сообщение
- при достижении минимума оформление становится доступным

---

### E2E-7. Доставка: адрес и доступность

**Проверки:**

- ввод валидного адреса → доставка доступна
- ввод недоступного адреса → ошибка
- адрес сохраняется в корзине

---

### E2E-8. Самовывоз: выбор ресторана

**Проверки:**

- отображается список ресторанов
- выбор ресторана сохраняется
- можно перейти к оформлению заказа

---

### E2E-9. Промокод

**Проверки:**

- валидный промокод применяется
- сумма заказа визуально меняется
- отображается корректное сообщение
  (детальная логика — через API)

---

### E2E-10. Оформление заказа и оплата

**Проверки:**

- успешное оформление заказа
- генерация номера заказа
- успешная онлайн-оплата
- переход на страницу подтверждения

---

## 2. Mobile UI Smoke (обязательно, минимально)

> Mobile viewport, без проверки верстки и пикселей  
> Цель — убедиться, что **с мобильного можно заказать**

### M-1. Каталог → карточка → добавление в корзину

- кнопка «В корзину» доступна и кликабельна
- товар появляется в корзине

### M-2. Корзина на мобильном

- изменение количества
- удаление товара
- кнопка оформления доступна и не перекрыта

### M-3. Доставка на мобильном

- ввод адреса
- возможность доскроллить до кнопки оформления
- клавиатура не блокирует действия

### M-4. Самовывоз на мобильном

- выбор ресторана
- переход к оформлению

### M-5. Промокод на мобильном

- ввод промокода
- отображение результата применения

---
